<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <link rel="alternate icon" type="image/png" href="/img/favicon.png">
    <title>changediff | </title>
    
<link rel="stylesheet" href="/css/reset.css">

    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/css/markdown.css">

    
<link rel="stylesheet" href="/css/fonts.css">

<meta name="generator" content="Hexo 6.1.0"></head>
    <body>
        <div class="paper">
            <div class="paper-main">
                
                    <div class="header">
    <a class="logo" href="/">changediff</a>
    <ul class="nav">
        
        <li><a href="/">首页</a></li>
        
        <li><a href="/archives">归档</a></li>
        
        <li><a href="/about">关于</a></li>
        
    </ul>
</div>
                
                <div class="post-list">
    
    <div class="post">
        <a class="post-title" href="/2022/05/06/iptables-howto/">iptables入门笔记</a>
        <div class="post-except">
            iptables是基于Linux内核模块Netfilter的防火墙工具，可以按照一定的规则对ip packet执行监控、修改、转发、重定向、丢弃等操作；ipv6版本的是ip6talbles；nftables则是iptables的新实现。目前，iptables还是使用最广泛的Linux防火墙模块，本文也聚焦于iptables的入门使用。
关键概念iptables的操作对象是ip包。Tables --&gt; Chains --&gt; Rules --&gt; IP Packe
            <a class="read-more" href="/2022/05/06/iptables-howto/"> ... </a>
        </div>
        <div class="post-date">2022.05.06</div>
    </div>
    
    <div class="post">
        <a class="post-title" href="/2022/04/17/rpm-backports/">CentOS7升级systemd版本到416.1</a>
        <div class="post-except">
            本文主要记录下在CentOS7折腾升级systemd的过程中踩得坑，方便以后需要的时候能够快速复盘。CentOS7中默认开启cgorupv2需要升级systemd版本，当前最靠谱的升级方式为Facebook维护的backports
具体打包过程中见GitHub
0. 搭建本地仓库打包好的rpm包在repo目录下，可以使用createrepo命令快速搭建自定义mirror
123456789101112# 创建repodatecreaterepo repo/cd repo# 启
            <a class="read-more" href="/2022/04/17/rpm-backports/"> ... </a>
        </div>
        <div class="post-date">2022.04.17</div>
    </div>
    
    <div class="post">
        <a class="post-title" href="/2021/02/28/rpi4b-usb-boot/">从外接USB设备启动树莓派4b</a>
        <div class="post-except">
            树莓派默认从tf卡启动系统，io性能太弱了。最近入手了Argon ONE外壳，可以通过usb外接一个m.2 sata接口的固态硬盘；那么，折腾一下从ssd吧。
方案调查一番查资料，目前支持两种启动方案：

升级固件，这也是网上推荐的主流方案。这个方案需要先用原版的raspbian升级固件，这样就可以直接设置从USB设备引导。找到的靠谱教程如下：1. New Raspberry Pi 4 Bootloader USB &#x2F; Network Boot Guide2. Ra
            <a class="read-more" href="/2021/02/28/rpi4b-usb-boot/"> ... </a>
        </div>
        <div class="post-date">2021.02.28</div>
    </div>
    
    <div class="post">
        <a class="post-title" href="/2021/02/09/use-kube-sate-metrics-for-service-discovery/">利用kube-state-metrics自动生成prometheus的配置文件</a>
        <div class="post-except">
            最近运维的k8s集群的node节点变动频繁，总是要手动更新prometheus配置文件表示很蛋疼。所以研究一下怎么对node节点做service discovery，自动更新监控targets列表。
先看看已有的配置维护方案prometheus的配置通过file_sd_config实现动态加载，用Python脚本访问每个集群的apiserver获取node节点然后生成对应的json配置文件。
这个方案可以拿来直接用的，不过配置起来不够灵活。我不想在脚本里面维护各个集群的认证方
            <a class="read-more" href="/2021/02/09/use-kube-sate-metrics-for-service-discovery/"> ... </a>
        </div>
        <div class="post-date">2021.02.09</div>
    </div>
    
    <div class="post">
        <a class="post-title" href="/1970/01/01/hello-world/">Hello World</a>
        <div class="post-except">
            Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new &quot
            <a class="read-more" href="/1970/01/01/hello-world/"> ... </a>
        </div>
        <div class="post-date">1970.01.01</div>
    </div>
    
</div>

                <div class="footer">
    <span>Copyright © 2022 changediff</span>
    <span>Theme Designed By <a target="_blank" href="https://zheli.design/one-paper">這Li</a></span>
</div>


<link rel="stylesheet" href="/css/a11y-dark.min.css">


<script src="/js/highlight.min.js"></script>


<script src="/js/highlightjs-line-numbers.js"></script>


<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>

            </div>
        </div>
    </body>
</html>